# Stalker_Bot
В данном репозитории находятся исходники моего игрового чат бота. Пример геймплея можно посмотреть на видео: https://www.youtube.com/watch?v=uXeMdXv5wyY
Процесс установки игрового чат бота Stalker Bot для вк:
1) Установите python 3.8 + https://www.python.org/downloads/

2) Опционально можно поставить ide, я использую pycharm.

3) Заходите в проект, устанавливаете зависимости из файла requirements.txt.

4) Необходимо создать сервер postgresql, можно поставить его на локальной машине. Устанавливаете sql сервер https://www.postgresql.org/download/windows/ и https://www.pgadmin.org/download/pgadmin-4-windows/, потом заходите в pgAdmin4 и создаёте там базу данных. Начальная база данных имеет имя postgres. Лучше создать отдельную базу с другим именем, с ней будет проще делать и восстанавливать бэкапы.

5) Открываете файл game_config.py в проекте, заносите данные сервера в переменную DatabaseInfo. Данные по умолчанию если не создавалась новая база и не менялся пароль DatabaseInfo = {"dbname": "postgres", "user": "postgres", "password": "", "host": "localhost"} .

6) Создаёте группу вконтакте, заходите в управление группы -> работа с api, генерируете ключ доступа и сохраняете. Затем выбираете вкладку long poll api, включаете его и выбираете версию 5.92. Дополнительно нужно выбрать в настройках пункт сообщения->настройки для бота и включить там все разрешения.

7) Вносите ключ доступа в переменную VkBotToken файла game_config, айди группы вносится в переменную VkGroupId .

8) Запускаете файл stalkerdbinit.py .

9) Перепроверьте состояние переменной GameDebug и запускаете файл stalkermain.py. Если всё сделано правильно, то бот заработает.

10) Для работы бота в беседах нужно разрешить добавление бота в беседы через настройки группы, а также изменить переменную GroupName в файле game_config. Например если ваша группа называется test123, то переменная должна содержать f'[club{VkGroupId}|test123]' .


Некоторая информация по модификации бота: 

Чтобы добавить новые предметы в игру зайдите в файл Лист Microsoft Excel, внесите туда новые строки соблюдая разметку, затем выделите содержимое таблицы с помощью ctrl+a, ctrl+v. Вставьте содержимое буфера обмена в файл items.txt. Откройте файл items_ch.py, установите флаг param_parse в значение true и запустите его (проверьте состояние других флагов чтобы было false).

Игровые текстуры частично находятся в альбомах группы, те что используются при рисовании персонажа находятся в локальной папке клиента. В репозитории есть все используемые игрой текстуры, в том числе внешние.

Если хотите включить поддержку доната необходимо добавить в свою группу виджет кексик https://vk.com/keksikio , затем получить оттуда токен. В файле game_config переставить флаг доната на true и внести идентификатор группы подключенной к кексику вместе с токеном

Связаться со мной можно через вк https://vk.com/id382770971
